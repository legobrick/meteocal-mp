<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fmt="http://java.sun.com/jsp/jstl/functions">
    <h:head>
        <title><ui:insert name="title">User Page</ui:insert></title>
        <ui:insert name="other-scripts"></ui:insert>
        <h:outputStylesheet name="webjars/font-awesome/4.2.0/css/font-awesome.css"/>
        <style type="text/css">
            .ui-icon.fa {
                text-indent:0px;
                background-image:none;
            }
        </style>
        <style type="text/css">
            /* http://meyerweb.com/eric/tools/css/reset/ 
                v2.0 | 20110126
                License: none (public domain)
            */

            html, body, div, span, applet, object, iframe,
            h1, h2, h3, h4, h5, h6, p, blockquote, pre,
            a, abbr, acronym, address, big, cite, code,
            del, dfn, em, img, ins, kbd, q, s, samp,
            small, strike, strong, sub, sup, tt, var,
            b, u, i, center,
            dl, dt, dd, ol, ul, li,
            fieldset, form, label, legend,
            table, caption, tbody, tfoot, thead, tr, th, td,
            article, aside, canvas, details, embed, 
            figure, figcaption, footer, header, hgroup, 
            menu, nav, output, ruby, section, summary,
            time, mark, audio, video {
                margin: 0;
                padding: 0;
                border: 0;
                font-size: 100%;
                font: inherit;
                vertical-align: baseline;
            }
            /* HTML5 display-role reset for older browsers */
            article, aside, details, figcaption, figure, 
            footer, header, hgroup, menu, nav, section {
                display: block;
            }
            body {
                line-height: 1;
            }
            ol, ul {
                list-style: none;
            }
            blockquote, q {
                quotes: none;
            }
            blockquote:before, blockquote:after,
            q:before, q:after {
                content: '';
                content: none;
            }
            table {
                border-collapse: collapse;
                border-spacing: 0;
            }

            html, body {
                height: 100%;
                width: 100%;
            }

            body{
                margin:0;
                padding:0;
                display: table;
                /*                line-height: 1.5em;*/
                min-width: 390px;
                font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
                font-size: 14px;
                line-height: 1.42857;
                color: #333;
                background-color: #FFF;
                transition: all 0.3s ease-in-out 0s;
            }

            * {
                box-sizing: border-box;
            }

            b{font-size: 110%;}
            em{color: red;}

            #head {
                width:100%;
                height:6em;
                background-color:rgb(255,255,245);
                color:rgb(29,129,201);
                box-shadow: 0px 4px 5px rgb(192,192,192);
                position: relative;
            }

            #title {
                float: left;
                font-size:3.5em;
                font-weight: 600;
                margin-left:25px;
                padding-top: .2em;
            }

            #title h1 {
                text-shadow: 2px 2px 3px rgba(35, 47, 82, 0.49);
            }

            #main_buttons {
                float: right;
                margin: 1.3em;
            }

            #main_buttons ul {
                float: left;
                width: 100%;
                padding: 0;
                margin: 0;
                list-style-type: none;
            }

            #main_buttons li {
                display: inline;
                padding: 0.2em 1em;
                float: left;
            }

            #main_buttons li>* {
                width: 12em;
                height: 2.7em;
                border-radius: 5px;
                border-width: 0px;
            }

            /* dio porco primefaces di merda: regole per pulsanti */

            [id$=notification_button] {
                background-color: rgb(30,130,201);
                color:rgba(255, 255, 255, 0.75);
                border-width:2px;
                border-color:#e2173d;
                background-image:-ms-linear-gradient(top, #90C4FF, rgb(30,130,201));
                background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#90C4FF), to(rgb(30,130,201)));
                background-image:-webkit-linear-gradient(top, #90C4FF, rgb(30,130,201));
                background-image:-o-linear-gradient(top, #90C4FF, rgb(30,130,201));
                background-image:linear-gradient(top, #90C4FF, rgb(30,130,201));
                background-image:-moz-linear-gradient(top, #90C4FF, rgb(30,130,201));
                text-shadow: 0.03em 0 .03em rgba(255, 255, 255, 0.87);
            }

            [id$=logout_button] {
                color:rgba(255, 255, 255, 0.75);
                background-color:#e2173d;
                border-width:2px;
                border-color:#e2173d;
                background-image:-ms-linear-gradient(top, #FF8888, #e2173d);
                background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#FF8888), to(#e2173d));
                background-image:-webkit-linear-gradient(top, #FF8888, #e2173d);
                background-image:-o-linear-gradient(top, #FF8888, #e2173d);
                background-image:linear-gradient(top, #FF8888, #e2173d);
                background-image:-moz-linear-gradient(top, #FF8888, #e2173d);
                text-shadow: 0.03em 0 .03em rgba(255, 255, 255, 0.87);
            }

            .nontext-center {
                margin-left: auto;
                margin-right: auto;
            }
            .text-center {
                text-align: center;
            }

            #container{
                display:table;
                width: 100%;
                height: 100%;
                margin: 0 0 -48px;
                padding: 0 0 48px;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                background: #eee;
                transition: width 0.4s ease 0s;
            }

            #container .column {
                display: table-cell;
            }

            #topsection{
                background: #EAEAEA;
                height: 90px; /*Height of top section*/
            }

            #topsection h1{
                margin: 0;
                padding-top: 15px;
            }

            #content{
                padding: 10px 20px;       /* CC padding */
                overflow-x: auto;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            #nav{
                width: 350px;             /* RC width */
                min-width: 300px;
                padding-left: 10px;          /* RC padding */
                transition: all 0.3s ease-in-out 0s;
                background: #F5DEB3;
                box-shadow: -3px 4px 5px rgb(192,192,192);
                overflow: hidden;
                position: relative;
            }

            .footer{
                margin: 0px auto;
                color: #F4F4F4;
                border-top: 1px solid #ccc;
                width: 100%;
                height: 48px;
                position: relative;
                background-color: #C7C7C7;
            }

            .footer>div {
                color: #777777;
                font-style: italic;
                font-family: helvetica;
                font-size: .9em;
                padding-top: .4em;
            }

            .footer a {
                color: #555555;
            }

            #wrap:after, #contentsection:after, #rightcolumn:after, .footer:after {
                clear: both;
            }


            .innertube {
                margin: 10px; /*Margins for inner DIV inside each column (to provide padding)*/
                margin-top: 0;
                margin-top: .5em;
            }

            div.ui-grid-responsive{
                width:100%;
            }

            .innertitle {
                margin-bottom: .5em;
                font-weight: 600;
            }

            h2 {
                color:rgb(29,129,201);
                font-size: 2em;
            }

            h3 {
                font-size: 1.7em;
                color:rgb(21,104,165);
            }
        </style>
    </h:head>
    <h:body  style="background-color:rgb(245,240,230)">
        <header id="head">
            <div id="title"><h1>WeatherCal</h1></div>
            <div id="main_buttons">
                <ul>
                    <li>
                        <p:commandButton id="notification_button" value="Notifications"/>
                    </li>
                    <li>
                        <p:commandButton id="logout_button" value="Logout" action="#{loginBean.logout()}"/>
                    </li>
                </ul>
            </div>
        </header>

        <div id="container">
            <div id="content" class="column">
                <div class="innertube">
                    <ui:insert name="main-content">
                        <p:commandButton action="#{eventManagerBean.createNew()}" icon="fa fa-plus" value="New Event" style="width:8.5em; height:2em; margin-top:5px; margin-left:20px; font-size:1em;">
                        </p:commandButton>
                        <h:form>


                            <h:panelGrid style="width:100%;">
                                <h3 style="margin-top: 0"></h3>
                                <p:schedule
                                    id="schedule"
                                    value="#{eventManagerBean.eventiDelMese()}"
                                    style="margin-left:20px;margin-right:20px; color:rgb(29,129,201)"
                                    widgetVar="myschedule"
                                    timeZone="GMT+1"
                                    draggable="false"
                                    resizable="false"
                                    
                                    firstHour="0" >
                                    <p:ajax event="eventSelect" listener="#{eventManagerBean.onEventSelect}"  oncomplete="PF('eventDialog').show();" />
                                </p:schedule>
                            </h:panelGrid>
                            
                        </h:form>
                    </ui:insert>
                </div>
            </div>
            <div id="nav" class="column">
                <div class="innertube">
                    <div class="ui-grid ui-grid-responsive">
                        <div class="ui-grid-row">
                            <h:form style="width:100%">
                                <div class="ui-grid-col-1" style="width: 100%; padding-right: 92px; margin-right: -85px; margin-top: 2px;">
                                    <p:autoComplete id="user" multiple="false" value="#{searchUser.searched}" completeMethod="#{invitationUser.completeUser}"
                                                    var="user" itemLabel="#{user.email}" itemValue="#{user.email}"  forceSelection="true">
                                        <p:column style="width:10%">
                                            <h:outputText value="d" />
                                        </p:column>

                                        <p:column>
                                            <h:outputText value="#{user.email}" />
                                        </p:column>
                                    </p:autoComplete>
                                </div>
                                <div class="ui-grid-col-1" style="width:78px;">
                                    <p:commandButton value="Search" action="#{searchUser.searchUser()}" style=""></p:commandButton>
                                </div>
                            </h:form>
                        </div>
                    </div>
                    <div class="ui-grid ui-grid-responsive" style="margin-right:10px; margin-top: 1em;">
                        <div class="ui-grid-row" style="height:50px">
                            <h3 style="margin-top:.4em;margin-bottom:.4em;font-weight:600;" class="nontext-center">Weather Forecast</h3>
                        </div>
                        <div class="ui-grid-row" style="height:50px; border-radius:10px;border-style:solid;border-width:3px;border-color:rgb(29,129,201)">
                            <div class="ui-grid-col-5" style="background-color:#ff55ff;border-color:#ff3300;border-bottom-left-radius:10px;border-top-left-radius:10px"></div>
                            <div class="ui-grid-col-5" style="background-color:#fff55f;"></div>
                            <div class="ui-grid-col-5" style="background-color:#fdfd5f;"></div>
                            <div class="ui-grid-col-5" style="background-color:#fffd5f;"></div>
                            <div class="ui-grid-col-5" style="background-color:#fff55f;border-bottom-right-radius:10px;border-top-right-radius:10px"></div>
                        </div>
                    </div>
                    <div style="margin-top:50px;margin-rigth:10px">
                        <h3 style="margin-top:.4em;margin-bottom:.4em;font-weight:600;" value="" class="text-center">Next events</h3>
                        <p:dataScroller value="#{eventManagerBean.allEventByAvailability('si')}" var="event" chunkSize="4" style="margin-right:10px">
                            <p:outputPanel>
                                <h:panelGrid columns="2" cellpadding="5">
                                    <h:outputText value="#{event.description}" />
                                    <h:outputText  style="font-weight: bold"/>


                                </h:panelGrid>
                            </p:outputPanel>
                        </p:dataScroller>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer">
            <div class="text-center">
                <h6>Copyright © 2015 WeatherCal. All Rights Reserved.</h6>
                <h7>Authors: <a href="mailto:polyp91@gmail.com">Paolo Polidori</a>, <a href="mailto:edemantimarco@gmail.com">Marco Edemanti</a></h7>
            </div>
        </footer>
    </h:body>
</html>


